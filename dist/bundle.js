(()=>{"use strict";var t={183:()=>{const t=document.createElement("div");document.body.append(t),t.className="field",t.id="field";const e=document.createElement("div");document.body.append(e),e.className="pause",e.id="pause",e.innerHTML='<div id ="time">Time: 00:00</div><div id ="steps">Steps: 0</div><button id = "solveGame" type="button">solve game</button><button id = "pauseGame" type="button">pause game</button>';const n=document.createElement("div");document.body.append(n),n.className="sound",n.id="sound",n.innerHTML='<div id="sound"><audio id=alarm><source id="vol" src= sound/1.mp3></audio>';const d=document.createElement("div");document.body.append(d),d.className="control",d.innerHTML='<select name = "select_path" id = "select_path"><option disabled>level</option><option value = "3" >3x3 easy</option><option selected value = "4" >4x4 normal</option><option value = "5">5x5 hard</option><option value = "6">6x6 very hard</option><option value = "7">7x7 extra hard</option><option value = "8">8x8 death match</option></select><button id = "start" type="button">New game</button><button id = "best" type="button">Best Scores</button><button id = "soundButton" type="button">sound off</button>';const o=document.createElement("div");document.body.append(o),o.className="win",document.getElementById("best").addEventListener("click",(()=>{o.innerHTML='<table style="width:100%">\n  <tr>\n    <th>Level</th>\n    <th>Steps</th>\n    <th>Time</th>\n  </tr>\n  <tr>\n    <td>4x4</td>\n    <td>30</td>\n    <td>00:50</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n    <td>3x3</td>\n    <td>68</td>\n    <td>01:31</td>\n  </tr>\n  <tr>\n  <td>3x3</td>\n  <td>68</td>\n  <td>01:31</td>\n</tr>\n</table>',o.style.width=y*v+"px",o.style.height=y*v+"px",o.style.visibility="visible",o.addEventListener("click",(()=>{o.style.visibility="hidden"}))}));const l=document.createElement("div");document.body.append(l),l.className="win";var s=0,i=0,a=0;function r(){++i>59&&(i=0,a++),document.getElementById("time").innerHTML="Time: "+String(a).padStart(2,"0")+":"+String(i).padStart(2,"0"),"visible"!==d.style.visibility&&"menu"!==c.textContent&&setTimeout(r,1e3)}let p=1;const c=document.getElementById("pauseGame");c.addEventListener("click",(()=>{"visible"!=d.style.visibility&&i>0?(d.style.visibility="visible",c.textContent="resume"):0!=i&&(d.style.visibility="hidden",c.textContent="pause",setTimeout(r,1e3))}));var u=document.getElementById("soundButton");u.addEventListener("click",(()=>{"sound on"===u.textContent?(u.textContent="sound off",document.getElementById("alarm").play()):u.textContent="sound on"}));const m=document.getElementById("start");let y=parseInt(document.getElementById("select_path").value);m.addEventListener("click",(()=>{document.getElementById("solveGame").addEventListener("click",(()=>{c.textContent="menu";const t=[],e=[...Array(y*y-1).keys()];for(let n=0;n<=y*y-2;n++){const d=e[n]+1,o=n%y,l=(n-o)/y;t.push({value:d,left:o,top:l})}t.push(o);for(let e=0;e<m.length-1;e++)for(let d=0;d<t.length-1;d++)t[d].value===m[e].value&&(m[e].element.style.left=t[d].left*n+"px",m[e].element.style.top=t[d].top*n+"px")})),d.style.visibility="hidden",t.innerHTML="",s=0,(i=0)>0?(i=0,a=0):r(),y=parseInt(document.getElementById("select_path").value);const n=100;d.style.width=y*n+"px",d.style.height=y*n+"px",t.style.width=y*n+"px",t.style.height=y*n+"px",e.style.width=y*n+20+"px";const o={value:y*y,top:y-1,left:y-1};let m=[];function v(t){const e=m[t];if(Math.abs(o.left-e.left)+Math.abs(o.top-e.top)>1)return;e.element.style.left=o.left*n+"px",e.element.style.top=o.top*n+"px";const r=o.left,p=o.top;o.left=e.left,o.top=e.top,e.left=r,e.top=p;const u=m.every((t=>t.value===t.top*y+(t.left+1)));if(s++,document.getElementById("steps").innerHTML="Steps:   "+s,u){const t=`<p>Ура! Вы решили головоломку за ${a}:${String(i).padStart(2,"0")} и ${s} ходов</p>`;l.innerHTML=t,l.style.width=y*n+"px",l.style.height=y*n+"px",s=0,i=-1,a=0,l.style.visibility="visible",d.style.visibility="visible",c.textContent="pause"}}l.addEventListener("click",(()=>{l.style.visibility="hidden"}));let b=[...Array(y*y-1).keys()].sort((()=>Math.random()-.5));for(let e=0;e<=y*y-2;e++){const d=document.createElement("div"),o=b[e]+1;d.className="cell",d.id="cell",d.innerHTML=o,d.setAttribute("draggable","true"),d.style.backgroundImage=`url(/cut/${p}/${y}/${o}.jpg)`,d.style.backgroundSize="cover";const l=e%y,s=(e-l)/y;m.push({value:o,left:l,top:s,element:d}),d.style.left=l*n+"px",d.style.top=s*n+"px",t.append(d),d.addEventListener("click",(()=>{v(e),"sound off"===u.textContent&&document.getElementById("alarm").play()}))}p++,p>5&&(p=1),m.push(o)}));const v=100;d.style.width=y*v+"px",t.style.width=y*v+"px",t.style.height=y*v+"px";const b={value:y*y,top:y-1,left:y-1},f=[];function h(t){const e=f[t];if(Math.abs(b.left-e.left)+Math.abs(b.top-e.top)>1)return;e.element.style.left=b.left*v+"px",e.element.style.top=b.top*v+"px";const n=b.left,d=b.top;b.left=e.left,b.top=e.top,e.left=n,e.top=d,f.every((t=>t.value===t.top*y+(t.left+1)))&&alert("you won!!!")}const x=[...Array(y*y-1).keys()];for(let e=0;e<=y*y-2;e++){const n=document.createElement("div"),d=x[e]+1;n.className="cell",n.innerHTML=d;const o=e%y,l=(e-o)/y;f.push({value:d,left:o,top:l,element:n}),n.style.left=o*v+"px",n.style.top=l*v+"px",t.append(n),n.addEventListener("click",(()=>{h(e)}))}const g=[],E=[...Array(y*y-1).keys()];for(let t=0;t<=y*y-2;t++){const e=E[t]+1,n=t%y,d=(t-n)/y;g.push({value:e,left:n,top:d})}g.push(b)}},e={};function n(d){var o=e[d];if(void 0!==o)return o.exports;var l=e[d]={exports:{}};return t[d](l,l.exports,n),l.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var d in e)n.o(e,d)&&!n.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:e[d]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(183)})();